# AI-MapBook

## é¡¹ç›®æ´»åŠ¨

Datawhale AI å¤ä»¤è¥ğŸ˜€

## é¡¹ç›®ä»‹ç»

![image](https://github.com/user-attachments/assets/0dee61ff-f80b-47ca-b02c-fa0c768752ae)


AI-MapBook æ˜¯ä¸€ä¸ªåˆ©ç”¨LLMæŠ€æœ¯ä¸ºæ•…äº‹è®²è¿°æä¾›åœ°å›¾æ”¯æŒçš„é¡¹ç›®ã€‚å®ƒé€šè¿‡å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ä»ä¹¦ç±ä¸­æå–åœ°ç†ä¿¡æ¯å’Œå±æ€§ä¿¡æ¯ï¼Œç»“åˆåœ°ç†ç¼–ç å¾—åˆ°åœ°ç†åæ ‡æ•°æ®ï¼Œå¹¶åœ¨äº¤äº’å¼åœ°å›¾ä¸Šè¿›è¡Œå¯è§†åŒ–å±•ç¤ºï¼Œä¸ºè¯»è€…æä¾›æ²‰æµ¸å¼çš„æ•…äº‹æ¢ç´¢ä½“éªŒã€‚è¯¥é¡¹ç›®é€‚ç”¨äºæ•…äº‹åˆ›ä½œè€…ã€æ•™è‚²å·¥ä½œè€…å’Œåœ°å›¾çˆ±å¥½è€…ï¼Œé€šè¿‡ç»“åˆäººå·¥æ™ºèƒ½å’Œåœ°ç†ç©ºé—´æŠ€æœ¯ï¼Œå¢å¼ºå™äº‹æ•ˆæœã€‚

[åœ¨çº¿ä½“éªŒ](https://ai-mapbook-zasfamyfxydadn2x8qyros.streamlit.app/)
[æ¼”ç¤ºè§†é¢‘](https://www.bilibili.com/video/BV1HpaoeTEST/?vd_source=e7e7a9aa0f8778cf8fc1a51dded02077)

## åº”ç”¨åœºæ™¯

- è€ƒå¤åˆ†æ
- åœ°ç†å†å²å­¦ä¹ 
- å†›äº‹æƒ…æŠ¥æ£€ç´¢
- ç¤¾äº¤ç½‘ç»œåˆ†æ

## æŠ€æœ¯æ ˆ

- **åç«¯**: pythonåŸç”Ÿ
- **å‰ç«¯**: Streamlit

## ä¸»è¦æ€è·¯

![image](https://github.com/user-attachments/assets/08ef18dc-7cac-4681-9558-d291b184c2c6)


1. **æ•°æ®æå–ğŸ†**: ä½¿ç”¨LLMä»æ•…äº‹ä¹¦ç±ä¸­æå–åœ°ç†ä¿¡æ¯å’Œå±æ€§ä¿¡æ¯ã€‚
2. **æ•°æ®å¤„ç†ğŸ†**: å°†æå–çš„äº‹ä»¶ä¿¡æ¯è¿›è¡Œå¤„ç†å¾—åˆ°åœ°ç†åæ ‡ï¼Œä»¥ä¾¿åœ¨å‰ç«¯è¿›è¡Œå±•ç¤ºã€‚
3. **åœ°å›¾å¯è§†åŒ–ğŸ†**: åˆ©ç”¨Leafletåœ¨å‰ç«¯å±•ç¤ºäº¤äº’å¼åœ°å›¾ï¼Œå¹¶åœ¨åœ°å›¾ä¸Šæ ‡è®°æå–çš„åæ ‡ç‚¹ã€‚
4. **ç”¨æˆ·äº¤äº’ğŸ†**: æä¾›ç”¨æˆ·ç•Œé¢ï¼Œå…è®¸ç”¨æˆ·æµè§ˆå’Œæ¢ç´¢æ•…äº‹ä¸­çš„åœ°ç†ä¿¡æ¯ã€‚
5. **RAGé—®ç­”ğŸ¯**ï¼šé€šè¿‡å¯¹ç”¨æˆ·ä¸Šä¼ çš„PDFæˆ–TXTæ–‡ä»¶è¿›è¡Œå‘é‡åŒ–æ£€ç´¢å­˜å‚¨ï¼Œå¹¶ä½¿ç”¨RAGæ¨¡å‹è¿›è¡Œé—®ç­”ï¼Œå®ç°æ•…äº‹ä¸­åœ°ç†ä¿¡æ¯çš„æŸ¥è¯¢å’Œå±•ç¤ºã€‚
6. **ç”¨æˆ·æ„å›¾è¯†åˆ«ğŸ¯**: é€šè¿‡ä¸€ä¸ªæ„å›¾è¯†åˆ«Agentæ¥æå–ç”¨æˆ·æ„å›¾ï¼Œè¿›è€Œåˆ›å»ºäº¤äº’æ¨¡æ¿ï¼Œæ„å»ºåœ°å›¾ï¼Œæ”¯æŒå†…å®¹å¯¼å‡ºæ–‡ä»¶ï¼ˆå¼€å‘ä¸­ï¼‰ã€‚
## é¡¹ç›®ç»“æ„

```
AI-MapBook/
â”œâ”€â”€ app.py
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ install.py
â”œâ”€â”€ models
â”œâ”€â”€ storage
â”œâ”€â”€ data
â”œâ”€â”€utils
â”‚    â””â”€â”€ __init__.py
â”‚    â””â”€â”€ geocode_utils.py
â”‚    â””â”€â”€ model_back.py
â”‚    â””â”€â”€ text_processing.py
â”‚    â””â”€â”€ map.py
â”‚    â””â”€â”€ rag.py
|.env_example
â”œâ”€â”€ LICENSE
â”œâ”€â”€ README.md
```

## å®‰è£…ä¸å¯åŠ¨
> é¡¹ç›®éƒ¨ç½²æ¨èä½¿ç”¨å…¨å±€ç§‘å­¦ç¯å¢ƒï¼ï¼ï¼ğŸ˜‰ğŸ˜‰
> æ¨èä½¿ç”¨åœ¨çº¿[API](https://platform.deepseek.com/usage)
1. è¿›å…¥é¡¹ç›®ç›®å½•ï¼š
   ```sh
   cd AI-MapBook
   ```

2. é…ç½®ç¯å¢ƒåŠå®‰è£…ä¾èµ–ï¼š
   ```sh
   conda create --name map-book python=3.10.13
   conda activate map-book
   pip install -r requirements.txt 
   python install.py
   ```
   > å¦‚æœéœ€è¦æœ¬åœ°éƒ¨ç½²,è¯·åœ¨requirements.txtæ–‡ä»¶ä¸­æ·»åŠ :
   ```bash
   llama-index-llms-ipex-llm
   ```
   è‹¥æ˜¯æ¨¡å‹å®‰è£…æŠ¥é”™ï¼Œåˆ™éœ€è¦ä¿è¯ç¬¬ä¸‰æ–¹æ¨¡å—`transformers==4.37.1`;
   
   > é…ç½®æ¨¡å‹è®¾ç½®ï¼šä¸‹è½½æ¨¡å‹æƒé‡åï¼Œé€šè¿‡ä¿®æ”¹config.jsonçš„ä»¥ä¸‹ä»£ç ç‰‡æ®µæ¥ä¿®æ”¹æ¨¡å‹è¾“å…¥è¾“å‡ºä¸Šä¸‹æ–‡é•¿åº¦ï¼š
   ```json
    {
        "architectures": [
            "Qwen2ForCausalLM"
        ],
        // ...
        "vocab_size": 152064,

        // adding the following snippets
        "rope_scaling": {
            "factor": 4.0,
            "original_max_position_embeddings": 32768,
            "type": "yarn"
        }
    }

   ```

3. å¯åŠ¨åç«¯æœåŠ¡ï¼š
   ```sh
   streamlit run app.py
   ```
   

## è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºä»£ç æäº¤ã€é—®é¢˜åé¦ˆã€åŠŸèƒ½å»ºè®®ç­‰ã€‚

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [GNU Affero General Public License (AGPL)](LICENSE)ã€‚

---
